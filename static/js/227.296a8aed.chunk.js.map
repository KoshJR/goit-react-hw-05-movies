{"version":3,"file":"static/js/227.296a8aed.chunk.js","mappings":"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","sources":["Pages/MoviesPage.jsx","Services/api.js","components/Loader/Loader.jsx","webpack://react-homework-template/./src/components/MoviesList/MoviesList.module.css?de3d","components/MoviesList/MoviesList.jsx"],"sourcesContent":["import css from '../components/App.module.css';\nimport { searchMovie } from 'Services/api';\nimport { Loader } from 'components/Loader/Loader';\nimport { MoviesList } from 'components/MoviesList/MoviesList';\nimport { useState } from 'react';\nimport { useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\n\nconst MoviesPage = () => {\n  const [query, setQuery] = useState('');\n  const [movie, setMovie] = useState([]);\n  const [errorMessage, setErrorMessage] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const searchQuery = searchParams.get('query') || '';\n\n  useEffect(() => {\n    const getMovie = async () => {\n      if (searchQuery) {\n        setIsLoading(true);\n        try {\n          const response = await searchMovie(searchQuery);\n          setMovie(response.results.length > 0 ? response.results : []);\n          !response.results.length\n            ? setErrorMessage(true)\n            : setErrorMessage(false);\n        } catch (error) {\n          setErrorMessage(true);\n        } finally {\n          setIsLoading(false);\n        }\n      }\n    };\n    getMovie();\n  }, [searchQuery]);\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    const cleanQuery = query.trim();\n    if (!cleanQuery) {\n      alert('Please enter some movie');\n      setMovie([]);\n      setSearchParams('');\n      setErrorMessage(false);\n      return;\n    }\n    setSearchParams({ query: cleanQuery });\n    setQuery('');\n  };\n\n  const onChange = event => setQuery(event.target.value);\n\n  return (\n    <div>\n      <form onSubmit={handleSubmit}>\n        <div className={css.searchForm}>\n          <input\n            onChange={onChange}\n            type=\"text\"\n            placeholder=\"Write the name of the movie\"\n            value={query}\n            className={css.inputForm}\n          />\n          <button className={css.searchBtn} type=\"submit\">\n            Search\n          </button>\n        </div>\n      </form>\n      {isLoading && <Loader className={css.loader} />}\n      {movie.length > 0 && <MoviesList array={movie} query={searchQuery} />}\n      {errorMessage && <h3>Something went wrong ....</h3>}\n    </div>\n  );\n};\n\nexport default MoviesPage;\n","import axios from 'axios';\nconst API_KEY = 'a771aa97b6f20a2b246806be1610be4c';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\naxios.defaults.params = {\n  api_key: API_KEY,\n  language: 'en-US',\n};\n\nexport const getPopularMovies = async () => {\n  const response = await axios.get('trending/all/week');\n  return response.data;\n};\n\nexport const getMovieInfo = async id => {\n  const response = await axios.get(`movie/${id}`);\n  return response.data;\n};\n\nexport const getActorInfo = async id => {\n  const response = await axios.get(`movie/${id}/credits`);\n  return response.data;\n};\n\nexport const getMovieReviews = async id => {\n  const response = await axios.get(`movie/${id}/reviews`);\n  return response.data;\n};\n\nexport const searchMovie = async query => {\n  const response = await axios.get(\n    `search/movie?query=${query}&include_adult=false&page=1`\n  );\n  return response.data;\n};\n","import React from 'react';\n\nexport const Loader = ({ className = '' }) => {\n  return <div className={className} />;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"moviesList\":\"MoviesList_moviesList__P6SP5\",\"listItem\":\"MoviesList_listItem__LULLo\",\"movieItem\":\"MoviesList_movieItem__p4FQU\"};","import { Link, useLocation } from 'react-router-dom';\nimport css from './MoviesList.module.css';\n\nexport const MoviesList = ({ array, query }) => {\n  const location = useLocation();\n  return (\n    <ul className={css.moviesList}>\n      {array.map(({ id, title, name }) => (\n        <li className={css.listItem} key={id}>\n          <Link\n            className={css.movieItem}\n            to={`/movie/${id}`}\n            state={{\n              from: query ? `/movie?query=${query}` : location.pathname,\n            }}\n          >\n            {title || name}\n          </Link>\n        </li>\n      ))}\n    </ul>\n  );\n};\n"],"names":["_useState","useState","_useState2","_slicedToArray","query","setQuery","_useState3","_useState4","movie","setMovie","_useState5","_useState6","errorMessage","setErrorMessage","_useState7","_useState8","isLoading","setIsLoading","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","searchQuery","get","useEffect","getMovie","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","response","_context","prev","next","searchMovie","sent","results","length","t0","finish","stop","apply","arguments","_jsxs","children","_jsx","onSubmit","event","preventDefault","cleanQuery","trim","alert","className","css","onChange","target","value","type","placeholder","Loader","MoviesList","array","axios","api_key","language","getPopularMovies","abrupt","data","getMovieInfo","_ref2","_callee2","id","_context2","concat","_x","getActorInfo","_ref3","_callee3","_context3","_x2","getMovieReviews","_ref4","_callee4","_context4","_x3","_ref5","_callee5","_context5","_x4","_ref$className","location","useLocation","map","title","name","Link","to","state","from","pathname"],"sourceRoot":""}